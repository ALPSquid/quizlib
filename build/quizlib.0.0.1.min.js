var Quiz=function(a,b){this.Classes=Object.freeze({QUESTION:"quizlib-question",QUESTION_TITLE:"quizlib-question-title",QUESTION_ANSWERS:"quizlib-question-answers",QUESTION_WARNING:"quizlib-question-warning",CORRECT:"quizlib-correct",INCORRECT:"quizlib-incorrect"}),this.unansweredQuestionText="Unanswered Question!",this.container=document.getElementById(a),this.questions=[],this.result=new QuizResult,this.answers=b;for(var c=0;c<this.container.children.length;c++)this.container.children[c].classList.contains(this.Classes.QUESTION)&&this.questions.push(this.container.children[c]);if(this.answers.length!=this.questions.length)throw new Error("Number of answers does not match number of questions!")};Quiz.prototype.checkAnswers=function(a){void 0===a&&(a=!0);for(var b=[],c=[],d=0;d<this.questions.length;d++){var e=this.questions[d],f=this.answers[d],g=[];this.clearHighlights(e);for(var h=e.getElementsByClassName(this.Classes.QUESTION_ANSWERS)[0].getElementsByTagName("input"),i=0;i<h.length;i++)h[i].checked&&g.push(h[i].value);1!=g.length||Array.isArray(f)?0===g.length&&b.push(e):g=g[0],c.push(Utils.compare(g,f))}if(0===b.length||!a)return this.result.setResults(c),!0;for(d=0;d<b.length;d++){var j=document.createElement("span");j.appendChild(document.createTextNode(this.unansweredQuestionText)),j.className=this.Classes.QUESTION_WARNING,b[d].getElementsByClassName(this.Classes.QUESTION_TITLE)[0].appendChild(j)}return!1},Quiz.prototype.clearHighlights=function(a){for(var b=a.getElementsByClassName(this.Classes.QUESTION_WARNING),c=0;c<b.length;c++)a.getElementsByClassName(this.Classes.QUESTION_TITLE)[0].removeChild(b[c]);var d,e=[a.getElementsByClassName(this.Classes.CORRECT),a.getElementsByClassName(this.Classes.INCORRECT)];for(c=0;c<e.length;c++)for(;e[c].length>0;)d=e[c][0],d.classList.remove(this.Classes.CORRECT),d.classList.remove(this.Classes.INCORRECT)},Quiz.prototype.highlightResults=function(a){for(var b,c=0;c<this.questions.length;c++)b=this.questions[c],this.result.results[c]?(b.getElementsByClassName(this.Classes.QUESTION_TITLE)[0].classList.add(this.Classes.CORRECT),void 0!==a&&a(b,c,!0)):(b.getElementsByClassName(this.Classes.QUESTION_TITLE)[0].classList.add(this.Classes.INCORRECT),void 0!==a&&a(b,c,!1))};var QuizResult=function(){this.results=[],this.totalQuestions=0,this.score=0,this.scorePercent=0,this.scorePercentFormatted=0};QuizResult.prototype.setResults=function(a){this.results=a,this.totalQuestions=this.results.length,this.score=0;for(var b=0;b<this.results.length;b++)this.results[b]&&this.score++;this.scorePercent=this.score/this.totalQuestions,this.scorePercentFormatted=Math.floor(100*this.scorePercent)};var Utils=function(){};Utils.compare=function(a,b){if(a.length!=b.length)return!1;if(Array.isArray(a)&&Array.isArray(b)){for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0}return a===b};